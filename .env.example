# Atlassian Marketplace Credentials
# Get API token from: https://id.atlassian.com/manage-profile/security/api-tokens
#
# SIMPLE MODE (Single Account):
# Set credentials directly in .env file (not recommended for production)
MARKETPLACE_USERNAME=your-email@example.com
MARKETPLACE_API_TOKEN=your-api-token-here
#
# ADVANCED MODE (Multiple Accounts - Recommended):
# For multiple accounts with encryption and automatic rotation:
# 1. Leave the above credentials empty or remove them
# 2. Create/edit .credentials.json file (see documentation)
# 3. The system will automatically use encrypted credentials from .credentials.json
#
# Fallback behavior:
# - If .credentials.json exists and has credentials, use those (encrypted, supports multiple accounts)
# - If .credentials.json is empty/missing, fallback to .env credentials above (single account)

# Admin Credentials (Required for Management Interface)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=change-this-secure-password

# Scraper Configuration
SCRAPER_BATCH_SIZE=50
SCRAPER_REQUEST_DELAY=0.5
VERSION_AGE_LIMIT_DAYS=365
MAX_CONCURRENT_DOWNLOADS=3
MAX_VERSION_SCRAPER_WORKERS=10
MAX_RETRY_ATTEMPTS=3

# Flask Configuration
FLASK_DEBUG=True
FLASK_PORT=5000
SECRET_KEY=change-this-to-a-random-secret-key

# Storage Backend
USE_SQLITE=True

# Logging
LOG_LEVEL=INFO

# ============================================================================
# STORAGE PATHS CONFIGURATION (All paths are optional)
# ============================================================================
# By default, everything is stored in ./data/ and ./logs/ directories.
# Uncomment and customize the paths below to use custom storage locations.
# Useful for distributing data across multiple drives or external storage.

# Base directory for all data (overrides default ./data)
# If set, all other paths default to subdirectories of this base
# DATA_BASE_DIR=/path/to/data

# Individual path overrides (these override DATA_BASE_DIR defaults)
# Metadata (SQLite database, checkpoints, descriptions)
# METADATA_DIR=/path/to/metadata

# SQLite database file (overrides METADATA_DIR/marketplace.db)
# DATABASE_PATH=/path/to/marketplace.db

# Log files directory
# LOGS_DIR=/path/to/logs

# Plugin descriptions (HTML, JSON, assets)
# If not set, defaults to METADATA_DIR/descriptions
# DESCRIPTIONS_DIR=/path/to/descriptions

# ============================================================================
# BINARY STORAGE PATHS
# ============================================================================
# Download binaries (JAR/OBR files) storage configuration
# Multiple options available for maximum flexibility:

# Option 1: Single directory for all products (simplest)
# BINARIES_DIR=/path/to/binaries

# Option 2: Base directory + automatic product subdirectories
# BINARIES_BASE_DIR=/path/to/binaries

# Option 3: Per-product directories (distribute across multiple drives)
# Useful for large datasets to spread I/O load and storage capacity
# If product-specific paths are not set, falls back to BINARIES_BASE_DIR or BINARIES_DIR
# BINARIES_DIR_JIRA=/mnt/disk1/jira
# BINARIES_DIR_CONFLUENCE=/mnt/disk2/confluence
# BINARIES_DIR_BITBUCKET=/mnt/disk3/bitbucket
# BINARIES_DIR_BAMBOO=/mnt/disk4/bamboo
# BINARIES_DIR_CROWD=/mnt/disk5/crowd

# Path resolution priority:
# 1. Product-specific path (BINARIES_DIR_<PRODUCT>)
# 2. BINARIES_BASE_DIR/<product>
# 3. BINARIES_DIR/<product>
# 4. DATA_BASE_DIR/binaries/<product>
# 5. ./data/binaries/<product> (default)

# ============================================================================
# EXAMPLE CONFIGURATIONS
# ============================================================================

# Example 1: Default (no configuration needed)
# - Metadata: ./data/metadata/
# - Database: ./data/metadata/marketplace.db
# - Binaries: ./data/binaries/<product>/
# - Descriptions: ./data/metadata/descriptions/
# - Logs: ./logs/

# Example 2: Everything on external drive
# DATA_BASE_DIR=/mnt/external/marketplace-data
# Result:
# - Metadata: /mnt/external/marketplace-data/metadata/
# - Database: /mnt/external/marketplace-data/metadata/marketplace.db
# - Binaries: /mnt/external/marketplace-data/binaries/<product>/
# - Descriptions: /mnt/external/marketplace-data/metadata/descriptions/
# - Logs: ./logs/ (not affected by DATA_BASE_DIR)

# Example 3: Metadata on SSD, binaries on HDD
# METADATA_DIR=/mnt/ssd/marketplace/metadata
# DATABASE_PATH=/mnt/ssd/marketplace/marketplace.db
# BINARIES_BASE_DIR=/mnt/hdd/marketplace-binaries
# LOGS_DIR=/mnt/ssd/marketplace/logs

# Example 4: Each product on separate drive (maximum I/O performance)
# METADATA_DIR=/mnt/nvme/marketplace/metadata
# DATABASE_PATH=/mnt/nvme/marketplace/marketplace.db
# BINARIES_DIR_JIRA=/mnt/disk1/jira-binaries
# BINARIES_DIR_CONFLUENCE=/mnt/disk2/confluence-binaries
# BINARIES_DIR_BITBUCKET=/mnt/disk3/bitbucket-binaries
# BINARIES_DIR_BAMBOO=/mnt/disk4/bamboo-binaries
# BINARIES_DIR_CROWD=/mnt/disk5/crowd-binaries
# LOGS_DIR=/mnt/nvme/marketplace/logs

# ============================================================================
# DOCKER-SPECIFIC CONFIGURATION
# ============================================================================
# These variables control Docker volume mounts in docker-compose.yml
# They map host directories to container paths.
#
# NOTE: These are SEPARATE from the storage paths above!
# - METADATA_PATH/LOGS_PATH/BINARIES_PATH: Docker host â†’ container mounts
# - METADATA_DIR/LOGS_DIR/BINARIES_DIR_*: Python app storage (inside container)
#
# For Docker, use these to configure WHERE on your host system the data is stored.
# The Python app inside the container will use the standard paths.

# Docker volume mounts (host paths)
# METADATA_PATH=./data/metadata        # Default: ./data/metadata
# LOGS_PATH=./logs                     # Default: ./logs
# BINARIES_PATH=./data/binaries        # Default: ./data/binaries

# Docker Examples:
# ----------------
# Example 1: Store everything on external drive
# METADATA_PATH=/mnt/external/marketplace/metadata
# LOGS_PATH=/mnt/external/marketplace/logs
# BINARIES_PATH=/mnt/external/marketplace/binaries
#
# Example 2: Metadata on SSD, binaries on HDD
# METADATA_PATH=/mnt/ssd/marketplace/metadata
# LOGS_PATH=/mnt/ssd/marketplace/logs
# BINARIES_PATH=/mnt/hdd/marketplace-binaries
#
# Example 3: Per-product on separate drives (requires docker-compose.override.yml)
# See docker-compose.yml comments for full example
